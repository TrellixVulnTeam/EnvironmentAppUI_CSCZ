{"version":3,"file":"ionic-angular-server.umd.js","sources":["../../src/ionic-server-module.ts","../../src/ionic-angular-server.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { APP_ID, NgModule } from '@angular/core';\nimport { BEFORE_APP_SERIALIZED } from '@angular/platform-server';\nimport { hydrateDocument } from '@ionic/core/hydrate';\n\n// @dynamic\n@NgModule({\n  providers: [\n    {\n      provide: BEFORE_APP_SERIALIZED,\n      useFactory: hydrateIonicComponents,\n      multi: true,\n      deps: [DOCUMENT, APP_ID],\n    },\n  ],\n})\nexport class IonicServerModule {}\n\n// @dynamic\nexport function hydrateIonicComponents(doc: any, appId: any) {\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  return () => {\n    return hydrateDocument(doc, {\n      clientHydrateAnnotations: false,\n      excludeComponents: [\n        // overlays\n        'ion-action-sheet',\n        'ion-alert',\n        'ion-loading',\n        'ion-modal',\n        'ion-picker',\n        'ion-popover',\n        'ion-toast',\n        'ion-toast',\n\n        // navigation\n        'ion-router',\n        'ion-route',\n        'ion-route-redirect',\n        'ion-router-link',\n        'ion-router-outlet',\n\n        // tabs\n        'ion-tabs',\n        'ion-tab',\n\n        // auxiliar\n        'ion-picker-column',\n        'ion-virtual-scroll',\n      ],\n    }).then((hydrateResults) => {\n      hydrateResults.diagnostics.forEach((d) => {\n        if (d.type === 'error') {\n          console.error(d.messageText);\n        } else if (d.type === 'debug') {\n          console.debug(d.messageText);\n        } else {\n          console.log(d.messageText);\n        }\n      });\n\n      if (doc.head != null) {\n        const styleElms = doc.head.querySelectorAll('style[data-styles]') as NodeListOf<HTMLStyleElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < styleElms.length; i++) {\n          styleElms[i].setAttribute('ng-transition', appId);\n        }\n      }\n\n      if (doc.body != null) {\n        const ionPages = doc.body.querySelectorAll('.ion-page.ion-page-invisible') as NodeListOf<HTMLElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionPages.length; i++) {\n          ionPages[i].classList.remove('ion-page-invisible');\n        }\n      }\n    });\n  };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["BEFORE_APP_SERIALIZED","DOCUMENT","APP_ID","NgModule","hydrateDocument"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;IAKA;;QAWA;;;;4JAAa,iBAAiB;6JAAjB,iBAAiB;6JAAjB,iBAAiB,aATjB;YACT;gBACE,OAAO,EAAEA,oCAAqB;gBAC9B,UAAU,EAAE,sBAAsB;gBAClC,KAAK,EAAE,IAAI;gBACX,IAAI,EAAE,CAACC,eAAQ,EAAEC,SAAM,CAAC;aACzB;SACF;sHAEU,iBAAiB;sBAV7BC,WAAQ;uBAAC;wBACR,SAAS,EAAE;4BACT;gCACE,OAAO,EAAEH,oCAAqB;gCAC9B,UAAU,EAAE,sBAAsB;gCAClC,KAAK,EAAE,IAAI;gCACX,IAAI,EAAE,CAACC,eAAQ,EAAEC,SAAM,CAAC;6BACzB;yBACF;qBACF;;IAGD;aACgB,sBAAsB,CAAC,GAAQ,EAAE,KAAU;;QAEzD,OAAO;YACL,OAAOE,uBAAe,CAAC,GAAG,EAAE;gBAC1B,wBAAwB,EAAE,KAAK;gBAC/B,iBAAiB,EAAE;;oBAEjB,kBAAkB;oBAClB,WAAW;oBACX,aAAa;oBACb,WAAW;oBACX,YAAY;oBACZ,aAAa;oBACb,WAAW;oBACX,WAAW;;oBAGX,YAAY;oBACZ,WAAW;oBACX,oBAAoB;oBACpB,iBAAiB;oBACjB,mBAAmB;;oBAGnB,UAAU;oBACV,SAAS;;oBAGT,mBAAmB;oBACnB,oBAAoB;iBACrB;aACF,CAAC,CAAC,IAAI,CAAC,UAAC,cAAc;gBACrB,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,CAAC;oBACnC,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;wBACtB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;qBAC9B;yBAAM,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;wBAC7B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;qBAC9B;yBAAM;wBACL,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;qBAC5B;iBACF,CAAC,CAAC;gBAEH,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;oBACpB,IAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAiC,CAAC;;oBAElG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACzC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;qBACnD;iBACF;gBAED,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;oBACpB,IAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAA4B,CAAC;;oBAEtG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACxC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;qBACpD;iBACF;aACF,CAAC,CAAC;SACJ,CAAC;IACJ;;IC9EA;;;;;;;;;;;;"}