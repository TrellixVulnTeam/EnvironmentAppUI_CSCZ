{"version":3,"file":"ionic-angular-server.js","sources":["../../src/ionic-server-module.ts","../../src/ionic-angular-server.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { APP_ID, NgModule } from '@angular/core';\nimport { BEFORE_APP_SERIALIZED } from '@angular/platform-server';\nimport { hydrateDocument } from '@ionic/core/hydrate';\n\n// @dynamic\n@NgModule({\n  providers: [\n    {\n      provide: BEFORE_APP_SERIALIZED,\n      useFactory: hydrateIonicComponents,\n      multi: true,\n      deps: [DOCUMENT, APP_ID],\n    },\n  ],\n})\nexport class IonicServerModule {}\n\n// @dynamic\nexport function hydrateIonicComponents(doc: any, appId: any) {\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  return () => {\n    return hydrateDocument(doc, {\n      clientHydrateAnnotations: false,\n      excludeComponents: [\n        // overlays\n        'ion-action-sheet',\n        'ion-alert',\n        'ion-loading',\n        'ion-modal',\n        'ion-picker',\n        'ion-popover',\n        'ion-toast',\n        'ion-toast',\n\n        // navigation\n        'ion-router',\n        'ion-route',\n        'ion-route-redirect',\n        'ion-router-link',\n        'ion-router-outlet',\n\n        // tabs\n        'ion-tabs',\n        'ion-tab',\n\n        // auxiliar\n        'ion-picker-column',\n        'ion-virtual-scroll',\n      ],\n    }).then((hydrateResults) => {\n      hydrateResults.diagnostics.forEach((d) => {\n        if (d.type === 'error') {\n          console.error(d.messageText);\n        } else if (d.type === 'debug') {\n          console.debug(d.messageText);\n        } else {\n          console.log(d.messageText);\n        }\n      });\n\n      if (doc.head != null) {\n        const styleElms = doc.head.querySelectorAll('style[data-styles]') as NodeListOf<HTMLStyleElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < styleElms.length; i++) {\n          styleElms[i].setAttribute('ng-transition', appId);\n        }\n      }\n\n      if (doc.body != null) {\n        const ionPages = doc.body.querySelectorAll('.ion-page.ion-page-invisible') as NodeListOf<HTMLElement>;\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionPages.length; i++) {\n          ionPages[i].classList.remove('ion-page-invisible');\n        }\n      }\n    });\n  };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;AAKA;MAWa,iBAAiB;;kIAAjB,iBAAiB;mIAAjB,iBAAiB;mIAAjB,iBAAiB,aATjB;QACT;YACE,OAAO,EAAE,qBAAqB;YAC9B,UAAU,EAAE,sBAAsB;YAClC,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;SACzB;KACF;4FAEU,iBAAiB;kBAV7B,QAAQ;mBAAC;oBACR,SAAS,EAAE;wBACT;4BACE,OAAO,EAAE,qBAAqB;4BAC9B,UAAU,EAAE,sBAAsB;4BAClC,KAAK,EAAE,IAAI;4BACX,IAAI,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;yBACzB;qBACF;iBACF;;AAGD;SACgB,sBAAsB,CAAC,GAAQ,EAAE,KAAU;;IAEzD,OAAO;QACL,OAAO,eAAe,CAAC,GAAG,EAAE;YAC1B,wBAAwB,EAAE,KAAK;YAC/B,iBAAiB,EAAE;;gBAEjB,kBAAkB;gBAClB,WAAW;gBACX,aAAa;gBACb,WAAW;gBACX,YAAY;gBACZ,aAAa;gBACb,WAAW;gBACX,WAAW;;gBAGX,YAAY;gBACZ,WAAW;gBACX,oBAAoB;gBACpB,iBAAiB;gBACjB,mBAAmB;;gBAGnB,UAAU;gBACV,SAAS;;gBAGT,mBAAmB;gBACnB,oBAAoB;aACrB;SACF,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc;YACrB,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;oBACtB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;iBAC9B;qBAAM,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;oBAC7B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;iBAC9B;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;iBAC5B;aACF,CAAC,CAAC;YAEH,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBACpB,MAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAiC,CAAC;;gBAElG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;iBACnD;aACF;YAED,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;gBACpB,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAA4B,CAAC;;gBAEtG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACxC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;iBACpD;aACF;SACF,CAAC,CAAC;KACJ,CAAC;AACJ;;AC9EA;;;;;;"}